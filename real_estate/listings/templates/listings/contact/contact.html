{% extends 'base.html' %}
{% load static %}
{% load widget_tweaks %}
{% block content %}
  <div class="hero page-inner overlay" style="background-image: url('{% static 'listings/images/hero_bg_1.jpg' %}')">
    <div class="container">
      <div class="row justify-content-center align-items-center">
        <div class="col-lg-9 text-center mt-5">
          <h1 class="heading" data-aos="fade-up">Contact Us</h1>

          <nav aria-label="breadcrumb" data-aos="fade-up" data-aos-delay="200">
            <ol class="breadcrumb text-center justify-content-center">
              <li class="breadcrumb-item">
                <a href="{% url 'listings:home' %}">Home</a>
              </li>
              <li class="breadcrumb-item active text-white-50" aria-current="page">Contact</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>
  </div>

  <div class="section bg-light py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-4 mb-5 mb-lg-0" data-aos="fade-up" data-aos-delay="100">
          <div class="card border-0 shadow-sm p-4 h-100">
            <div class="contact-info">
              <div class="address mt-2">
                <i class="icon-room"></i>
                <h4 class="mb-2">Location:</h4>
                <p>Kozhikode</p>
              </div>

              <div class="email mt-4">
                <i class="icon-envelope"></i>
                <h4 class="mb-2">Email:</h4>
                <p>regalroofs.realestate@gmail.com</p>
              </div>

              <div class="phone mt-4">
                <i class="icon-phone"></i>
                <h4 class="mb-2">Call:</h4>
                <p>+91 8838 279 668</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-8" data-aos="fade-up" data-aos-delay="200">
          <div class="card border-0 shadow-sm p-4">
            {% if messages %}
              <div class="mb-4">
                {% for message in messages %}
                  <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert">
                    <i class="fas fa-{% if message.tags == 'success' %}
                        check-circle
                      {% else %}
                        exclamation-triangle
                      {% endif %} me-2">

                    </i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                {% endfor %}
              </div>
            {% endif %}
            <form method="POST" class="needs-validation" novalidate>
              {% csrf_token %}
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="{{ form.name.id_for_label }}" class="form-label fw-bold"><i class="fas fa-user me-2"></i>Name</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-user"></i></span>
                    {{ form.name|add_class:'form-control rounded-end' }}
                  </div>
                  {% if form.name.errors %}
                    <div class="invalid-feedback d-block">{{ form.name.errors|join:', ' }}</div>
                  {% endif %}
                </div>
                <div class="col-md-6 mb-3">
                  <label for="{{ form.email.id_for_label }}" class="form-label fw-bold"><i class="fas fa-envelope me-2"></i>Email</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                    {{ form.email|add_class:'form-control rounded-end' }}
                  </div>
                  {% if form.email.errors %}
                    <div class="invalid-feedback d-block">{{ form.email.errors|join:', ' }}</div>
                  {% endif %}
                </div>
                <div class="col-12 mb-3">
                  <label for="{{ form.subject.id_for_label }}" class="form-label fw-bold"><i class="fas fa-comment me-2"></i>Subject</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-comment"></i></span>
                    {{ form.subject|add_class:'form-control rounded-end' }}
                  </div>
                  {% if form.subject.errors %}
                    <div class="invalid-feedback d-block">{{ form.subject.errors|join:', ' }}</div>
                  {% endif %}
                </div>
                <div class="col-12 mb-3">
                  <label for="{{ form.message.id_for_label }}" class="form-label fw-bold"><i class="fas fa-comment-alt me-2"></i>Message</label>
                  <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-comment-alt"></i></span>
                    {{ form.message|add_class:'form-control rounded-end' }}
                  </div>
                  {% if form.message.errors %}
                    <div class="invalid-feedback d-block">{{ form.message.errors|join:', ' }}</div>
                  {% endif %}
                </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-primary"><i class="fas fa-paper-plane me-2"></i>Send Message</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://kit.fontawesome.com/a076d057e33.js" crossorigin="anonymous"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const form = document.querySelector('form')
      if (form) {
        form.addEventListener(
          'submit',
          function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }
            form.classList.add('was-validated')
          },
          false
        )
      }
    })
  </script>
{% endblock %}
